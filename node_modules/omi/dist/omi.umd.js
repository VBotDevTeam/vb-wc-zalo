!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("weakmap-polyfill"),require("reactive-signal")):"function"==typeof define&&define.amd?define(["exports","weakmap-polyfill","reactive-signal"],t):t((e||self).Omi={},0,e.reactiveSignal)}(this,function(e,t,n){function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(null,arguments)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function c(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,u(e,t)}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(a=function(){return!!e})()}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}function f(e){var t="function"==typeof Map?new Map:void 0;return f=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(a())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var o=new(e.bind.apply(e,r));return n&&u(o,n.prototype),o}(e,arguments,s(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)},f(e)}function p(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})}function d(e){return e.children}function h(e,t){null!=e&&("function"==typeof e?e(t):e.current=t)}function v(e){return"[object Array]"===Object.prototype.toString.call(e)}!function(){if("undefined"!=typeof document&&!("adoptedStyleSheets"in document)){var e="ShadyCSS"in window&&!ShadyCSS.nativeShadow,t=document.implementation.createHTMLDocument("boot"),n=new WeakMap,r="object"==typeof DOMException?Error:DOMException,o=Object.defineProperty,i=Array.prototype.forEach,s=/@import.+?;?$/gm,c=CSSStyleSheet.prototype;c.replace=function(){return Promise.reject(new r("Can't call replace on non-constructed CSSStyleSheets."))},c.replaceSync=function(){throw new r("Failed to execute 'replaceSync' on 'CSSStyleSheet': Can't call replaceSync on non-constructed CSSStyleSheets.")};var a=new WeakMap,u=new WeakMap,l=new WeakMap,f=j.prototype;f.replace=function(e){try{return this.replaceSync(e),Promise.resolve(this)}catch(e){return Promise.reject(e)}},f.replaceSync=function(e){if(A(this),"string"==typeof e){var t=this,n=a.get(t).ownerNode;n.textContent=function(e){var t=e.replace(s,"");return t!==e&&console.warn("@import rules are not allowed here. See https://github.com/WICG/construct-stylesheets/issues/119#issuecomment-588352418"),t.trim()}(e),a.set(t,n.sheet),u.get(t).forEach(function(e){e.isConnected()&&P(t,E(t,e))})}},o(f,"cssRules",{configurable:!0,enumerable:!0,get:function(){return A(this),a.get(this).cssRules}}),["addImport","addPageRule","addRule","deleteRule","insertRule","removeImport","removeRule"].forEach(function(e){f[e]=function(){var t=this;A(t);var n=arguments,r=a.get(t),o=u.get(t),i=r[e].apply(r,n);return o.forEach(function(r){if(r.isConnected()){var o=E(t,r).sheet;o[e].apply(o,n)}}),i}}),o(j,Symbol.hasInstance,{configurable:!0,value:C});var p={childList:!0,subtree:!0},d=new WeakMap,h=new WeakMap,v=new WeakMap,y=new WeakMap,m=_.prototype;if(m.isConnected=function(){var e=h.get(this);return e instanceof Document?"loading"!==e.readyState:function(e){return"isConnected"in e?e.isConnected:document.contains(e)}(e.host)},m.connect=function(){var e=R(this);y.get(this).observe(e,p),v.get(this).length>0&&x(this),T(e,function(e){k(e).connect()})},m.disconnect=function(){y.get(this).disconnect()},m.update=function(e){var t=this,n=h.get(t)===document?"Document":"ShadowRoot";if(!Array.isArray(e))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+n+": Iterator getter is not callable.");if(!e.every(C))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+n+": Failed to convert value to 'CSSStyleSheet'");if(e.some(O))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+n+": Can't adopt non-constructed stylesheets");t.sheets=e;var r,o,i=v.get(t),s=(r=e).filter(function(e,t){return r.indexOf(e)===t});(o=s,i.filter(function(e){return-1===o.indexOf(e)})).forEach(function(e){var n;(n=E(e,t)).parentNode.removeChild(n),function(e,t){l.get(e).delete(t),u.set(e,u.get(e).filter(function(e){return e!==t}))}(e,t)}),v.set(t,s),t.isConnected()&&s.length>0&&x(t)},window.CSSStyleSheet=j,N(Document),"ShadowRoot"in window){N(ShadowRoot);var b=Element.prototype,g=b.attachShadow;b.attachShadow=function(e){var t=g.call(this,e);return"closed"===e.mode&&n.set(this,t),t}}var S=k(document);S.isConnected()?S.connect():document.addEventListener("DOMContentLoaded",S.connect.bind(S))}function w(e){return e.shadowRoot||n.get(e)}function C(e){return"object"==typeof e&&(f.isPrototypeOf(e)||c.isPrototypeOf(e))}function O(e){return"object"==typeof e&&c.isPrototypeOf(e)}function E(e,t){return l.get(e).get(t)}function P(e,t){requestAnimationFrame(function(){var n,r;!function(e){for(var t=0;t<e.cssRules.length;t++)e.deleteRule(0)}(t.sheet),n=a.get(e),r=t.sheet,i.call(n.cssRules,function(e,t){r.insertRule(e.cssText,t)})})}function A(e){if(!a.has(e))throw new TypeError("Illegal invocation")}function j(){var e=this,n=document.createElement("style");t.body.appendChild(n),a.set(e,n.sheet),u.set(e,[]),l.set(e,new WeakMap)}function k(e){var t=d.get(e);return t||(t=new _(e),d.set(e,t)),t}function N(e){o(e.prototype,"adoptedStyleSheets",{configurable:!0,enumerable:!0,get:function(){return k(this).sheets},set:function(e){k(this).update(e)}})}function T(e,t){for(var n=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT,function(e){return w(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},null,!1),r=void 0;r=n.nextNode();)t(w(r))}function R(e){var t=h.get(e);return t instanceof Document?t.body:t}function x(e){var t=document.createDocumentFragment(),n=v.get(e),r=y.get(e),o=R(e);r.disconnect(),n.forEach(function(n){t.appendChild(E(n,e)||function(e,t){var n=document.createElement("style");return l.get(e).set(t,n),u.get(e).push(t),n}(n,e))}),o.insertBefore(t,null),r.observe(o,p),n.forEach(function(t){P(t,E(t,e))})}function _(t){var n=this;n.sheets=[],h.set(n,t),v.set(n,[]),y.set(n,new MutationObserver(function(t,r){document?t.forEach(function(t){e||i.call(t.addedNodes,function(e){e instanceof Element&&T(e,function(e){k(e).connect()})}),i.call(t.removedNodes,function(t){t instanceof Element&&(function(e,t){return t instanceof HTMLStyleElement&&v.get(e).some(function(t){return E(t,e)})}(n,t)&&x(n),e||T(t,function(e){k(e).disconnect()}))})}):r.disconnect()}))}}(),function(){var e="undefined"!=typeof window?window:global;if(void 0!==e.Reflect&&void 0!==e.customElements&&!e.customElements.hasOwnProperty("polyfillWrapFlushCallback")){var t=e.HTMLElement;e.HTMLElement=function(){return Reflect.construct(t,[],this.constructor)},HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)}}();var y=/\B([A-Z])/g;function m(e){return e.replace(y,"-$1").toLowerCase()}function b(e){var t=new CSSStyleSheet;return t.replaceSync(e),t}function g(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function S(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}function w(e){return!!/^class\s/.test(e.toString())||!1}function C(e,t,n){var r=Object.assign({merge:"uniqueMerge",default:null},n),o=w(e)?e:e.constructor,i=o[t],s=S(i)?0:Array.isArray(i)?1:2;if("none"===r.merge||2===s)return i;for(var c=0===s?Object.assign({},r.default):r.default,a=[i];o&&(o=o.__proto__)[t];)a.push(o[t]);var u=i;return u=0===s?a.reduce(function(e,t){return S(t)?Object.assign({},c,t,e):e},{}):a.reduce(function(e,t){return Array.isArray(t)&&e.push.apply(e,t),e},[]),Array.isArray(u)&&"uniqueMerge"===r.merge&&(u=Array.from(new Set(u)),S(c)&&u.forEach(function(e,t){S(e)&&(u[t]=Object.assign({},c,e))})),u||c}function O(e,t){e.hooks||(e.hooks={}),Object.entries(t).forEach(function(t){var n=t[0],r=t[1];e.hooks[n]||(e.hooks[n]=[]),e.hooks[n].push(r)})}function E(e){return Array.from(e).map(function(e){if(e.nodeType===Node.TEXT_NODE)return e.textContent||"";var t=e;if(t.nodeType===Node.ELEMENT_NODE){var n={ignoreAttrs:!1};Array.from(t.attributes).forEach(function(e){n[p(e.name)]=e.value});var r=E(t.childNodes);return{nodeName:t.tagName.toLowerCase(),attributes:n,children:r,key:n.key}}return null}).filter(Boolean)}function P(e,t){var n;if(t?"boolean"!=typeof t.ignoreAttrs&&(t.ignoreAttrs=!0):t={ignoreAttrs:!0},arguments.length>2?n=[].slice.call(arguments,2).flat():null!=t.children&&(n=t.children,delete t.children),e===d)return n;if("function"==typeof e){if(!e.tagName)return n&&(t.children=n),e(t);e=e.tagName}return{nodeName:e,children:n,attributes:t,key:t.key}}Array.prototype.flat||(Array.prototype.flat=function(e){void 0===e&&(e=1);var t=[],n=function(o,i){for(var s,c=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))){t&&(e=t);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(o);!(s=c()).done;){var a=s.value;Array.isArray(a)&&i<e?n(a,i+1):t.push(a)}};return n(this,0),t}),P.f=d;var A={onanimationcancel:1,oncompositionend:1,oncompositionstart:1,oncompositionupdate:1,onfocusin:1,onfocusout:1,onscrollend:1,ontouchcancel:1,ontouchend:1,ontouchmove:1,ontouchstart:1},j=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,k={};function N(e){var t=e.parentNode;t&&t.removeChild(e)}function T(e,t,n,r,o){if("className"===t&&(t="class"),"o"==t[0]&&"-"==t[1]&&Promise.resolve().then(function(){var n;null==(n=k[t])||n.call(k,e,r)}),"key"===t||"ignoreAttrs"===t);else if("ref"===t)h(n,null),h(r,e);else if("class"!==t||o)if("style"===t)if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||x(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||x(e.style,t,r[t])}else if("unsafeHTML"===t)r&&(e.innerHTML=r.html||r||"");else if("o"==t[0]&&"n"==t[1])!function(e,t,n,r){var o=t!==(t=t.replace(/Capture$/,"")),i=t.toLowerCase();t=(A[i]||i in e?i:t).slice(2),n?r||e.addEventListener(t,R,o):e.removeEventListener(t,R,o),(e._listeners||(e._listeners={}))[t]=n}(e,t,r,n);else if("INPUT"===e.nodeName&&"value"===t)e.value=null==r?"":r;else if("list"!==t&&"type"!==t&&"css"!==t&&!o&&t in e){try{e[t]=null==r?"":r}catch(e){}null!=r&&!1!==r||"spellcheck"==t||e.removeAttribute(t)}else{var i=o&&t!==(t=t.replace(/^xlink:?/,""));if(null==r||!1===r)i?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t);else if("function"!=typeof r)if(i)e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r);else if("Component"===e.constructor.is){var s,c=null==(s=e.constructor.reflectProps)?void 0:s[t];c&&e.setAttribute(t,"function"==typeof c?c(r):r)}else e.setAttribute(t,r)}else e.className=r||""}function R(e){return this._listeners[e.type](e)}function x(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n.toString()):e[t]=null==n?"":"number"!=typeof n||j.test(t)?n.toString():n+"px"}var _=0,M=!1,L=!1,F=!1;function D(e,t,n,r,o){return e||t?(r&&r.constructor.isLightDOM&&(r.innerHTML=""),_++||(M=null!=n&&void 0!==n.ownerSVGElement,F=!1),v(t)?n?(V(n,t,F,r,o),i=n.childNodes):(i=[],t.forEach(function(t,n){var s=I(0===n?e:null,t,r,o);i.push(s)})):(v(e)||e instanceof NodeList?[].concat(e).forEach(function(e,n){0===n?i=I(e,t,r,o):H(e,!1)}):i=I(e,t,r,o),n&&(null==(s=i)?void 0:s.parentNode)!==n&&n.appendChild(i)),--_||(F=!1),i):null;var i,s}function I(e,t,n,r){e&&t&&e.props&&(e.props.children=t.children);var o,i=e,s=M,c=L;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||n)?e.nodeValue!=t&&(e.nodeValue=String(t)):(i=document.createTextNode(String(t)),e&&(e.parentNode&&(null==(o=e.parentNode)||o.replaceChild(i,e)),H(e,!0))),i&&(i.prevProps={}),i;var a,u,l,f=t.nodeName;if(L="foreignObject"===f,M="svg"===f||!L&&M,f=String(f),(!e||!g(e,f))&&(u=f,(l=L||M?document.createElementNS("http://www.w3.org/2000/svg",u):document.createElement(u)).normalizedNodeName=u,"Component"===(null==(a=(i=l).constructor)?void 0:a.is)&&Object.assign(i.props,t.attributes),e)){for(var d;e.firstChild;)i.appendChild(e.firstChild);e.parentNode&&(null==(d=e.parentNode)||d.replaceChild(i,e)),H(e,!0)}var h=i.firstChild,v=i.prevProps,y=t.children;if(null==v){v=i.prevProps={};for(var m=i.attributes,b=m.length;b--;)v[m[b].name]=m[b].value}return!F&&y&&1===y.length&&"string"==typeof y[0]&&null!=h&&void 0!==h.splitText&&null==h.nextSibling?h.nodeValue!=y[0]&&(h.nodeValue=y[0]):(y&&y.length||null!=h)&&("Component"==i.constructor.is&&i.constructor.noSlot||V(i,y,F||null!=v.unsafeHTML,n,r)),function(e,t,n,r,o){var i,s,c=e.update;if(e.receiveProps&&(s=Object.assign({},n),e)){if(e.constructor.defaultProps){var a=e.constructor.defaultProps;for(var u in a)void 0===s[u]&&(s[u]=a[u])}if(e.constructor.props){var l=e.constructor.props;for(var f in l){var d;void 0!==(null==(d=l[f])?void 0:d.default)&&void 0===s[f]&&(s[f]=l[f].default)}}}for(i in n)t&&null!=t[i]||null==n[i]||(T(e,i,n[i],n[i]=void 0,L||M),c&&delete e.props[i]);for(i in t)if(c&&"object"==typeof t[i]&&"ref"!==i){("style"===i||"o"===i[0]&&"-"===i[1])&&T(e,i,n[i],n[i]=t[i],L||M);var h=p(i);e.props[h]=n[h]=t[i]}else if("children"!==i&&(!(i in n)||t[i]!==("value"===i||"checked"===i?e[i]:n[i])))if(T(e,i,n[i],t[i],L||M),-1!==e.nodeName.indexOf("-")){e.props=e.props||{};var v=p(i);e.props[v]=n[v]=t[i]}else n[i]=t[i];c&&!o&&e.parentNode&&!1!==(null==e||null==e.receiveProps?void 0:e.receiveProps(e.props,s))&&(null==e||null==e.queuedUpdate||e.queuedUpdate())}(i,t.attributes,v,0,r),i.props&&(i.props.children=t.children),M=s,L=c,i}function V(e,t,n,r,o){var i,s,c,a,u,l,f,p=e.childNodes,d=[],h={},v=0,y=0,m=p.length,b=0,S=t?t.length:0;if(0!==m)for(var w=0;w<m;w++){var C,O=p[w],E=O.prevProps,P=S&&E?E.key:null;null!=P?(v++,h[P]=O):(E||(void 0!==O.splitText?!n||(null==(C=O.nodeValue)?void 0:C.trim()):n))&&(d[b++]=O)}if(0!==S)for(var A=0;A<S;A++){if(u=null,a=t[A]){var j=a.key;if(null!=j)v&&void 0!==h[j]&&(u=h[j],h[j]=void 0,v--);else if(y<b)for(i=y;i<b;i++)if(void 0!==d[i]&&(l=s=d[i],"string"==typeof(f=a)||"number"==typeof f?void 0!==l.splitText:g(l,f.nodeName))){u=s,d[i]=void 0,i===b-1&&b--,i===y&&y++;break}}u=I(u,a,r,o),c=p[A],u&&u!==e&&u!==c&&(null==c?e.appendChild(u):u===c.nextSibling?N(c):e.insertBefore(u,c))}if(v)for(var k in h)void 0!==h[k]&&H(h[k],!1);for(;y<=b;)void 0!==(u=d[b--])&&H(u,!1)}function H(e,t){null!=e.prevProps&&e.prevProps.ref&&("function"==typeof e.prevProps.ref?e.prevProps.ref(null):e.prevProps.ref.current&&(e.prevProps.ref.current=null)),!1!==t&&null!=e.prevProps||N(e),function(e){var t;for(e=null==(t=e)?void 0:t.lastChild;e;){var n=e.previousSibling;H(e,!0),e=n}}(e)}var q={mixin:{},globalCSS:[]},U={define:function(e){e.prototype.formAssociatedCallback=function(e){this._form=e,this._form&&this._form.addEventListener("formdata",this.handleFormData.bind(this))}},initial:function(e){e.getFieldValue||(e.getFieldValue=function(){var t,n={};return e._inputs=null==(t=e.shadowRoot)?void 0:t.querySelectorAll("input"),e._inputs.forEach(function(e){n[e.name]=e.value}),n}),e.resetFieldValue||(e.resetFieldValue=function(){var t;e._inputs=null==(t=e.shadowRoot)?void 0:t.querySelectorAll("input"),e._inputs.forEach(function(e){e.value=""})}),e.handleFormData||(e.handleFormData=function(t){var n=t.formData;if(n){var r=e.getFieldValue();Object.entries(r).forEach(function(e){n.append(e[0],e[1])})}}),e._internals=e.attachInternals()},connected:function(e){}};function W(e,t){Object.defineProperty(t,"tagName",{value:e,writable:!1}),customElements.get(e)?console.warn("Failed to execute 'define' on 'CustomElementRegistry': the tag name \""+e+'" has already been used with this registry'):customElements.define(e,t)}function B(e,t){var n=Object.assign({formAssociated:!1},t).formAssociated;return function(t){n&&(n&&(O(t,U),t.formAssociated=!0),function(e,t){var n=e._hooks?e._hooks:C(e,"hooks")||{};if(w(e)||(e._hooks=n),t in n){var r=n[t];Array.isArray(r)&&r.forEach(function(n){try{n.call(e,e)}catch(n){console.warn("Error occurred while executing hook function "+(w(e)?e.constructor.name:e.name)+"/"+t+":",n)}})}}(t,"define")),W(e,t)}}var $=B,J={initial:function(e){Object.defineProperty(e,"ref",{get:function(){return e._ref||(e._ref=new Proxy({current:void 0},{set:function(t,n,r,o){return"current"===n&&e.fire("refAttached",{ref:r,target:e},{bubbles:!0,composed:!0}),Reflect.set(t,n,r,o)}})),e._ref}}),e._onRefAttached=function(t){var n=t.detail;n.target!==e&&e.props.ref&&(e.props.ref.current=n.ref)},e.addEventListener("refAttached",e._onRefAttached)},disconnected:function(e){e.removeEventListener("refAttached",e._onRefAttached)}},Q=0,z=new WeakMap,G=/*#__PURE__*/function(e){function t(){var t;return(t=e.call(this)||this).elementId=void 0,t.isInstalled=void 0,t.inject=void 0,t.injection=void 0,t.renderRoot=void 0,t.rootElement=void 0,t._hooks=void 0,t._ref=null,t.state=void 0,t.updateQueued=!1,t.handleProps(),O(t,J),t.executeHooks("initial"),t.elementId=Q++,t.isInstalled=!1,t.rootElement=null,t}c(t,e),t.define=function(e){W(e,this)};var r,i,s,a=t.prototype;return a.executeHooks=function(e){var t=this;if(e in this.hooks){var n=this.hooks[e];Array.isArray(n)&&n.forEach(function(n){try{n.call(t,t)}catch(n){console.warn("Error occurred while executing hook function "+t.constructor.name+"/"+e+":",n)}})}},a.handleProps=function(){this.constructor.defaultProps=C(this,"defaultProps",{default:{}})||{},this.constructor.propTypes=C(this,"propTypes",{default:{}})||{},this.constructor.reflectProps=C(this,"reflectProps",{default:{}})||{};var e=C(this,"props",{default:{},merge:"uniqueMerge"});if(this.constructor.props)for(var t in e){var n=e[t];this.constructor.defaultProps[t]=n.default,this.constructor.propTypes[t]=n.type,this.constructor.reflectProps[t]=n.reflect}this.props=Object.assign({},this.constructor.defaultProps,this.props),this.props.ignoreAttrs||this.handleComplexProps()},a.handleComplexProps=function(){var e=this;Object.keys(this.constructor.propTypes).forEach(function(t){e.constructor.isComplexType(t)&&Object.defineProperty(e,t,{get:function(){return e.props[t]},set:function(n){Object.is(n,e.props[t])||(e.props[t]=n,e.queuedUpdate())},enumerable:!0,configurable:!0})})},t.isComplexType=function(e){if(!this.useDOMProperty)return!1;var t=this.propTypes;return!(!t[e]||/^on|children/.test(e))&&(v(t[e])?t[e]:[t[e]]).some(function(e){return e===Object||e===Array||v(e)&&e.includes(Object)})},a.attributeChangedCallback=function(e,t,n){var r=p(e);if(this.constructor.props&&this.constructor.props[r]){var o=this.constructor.props[r];if(o.changed){var i=this.getTypeValueOfProp(r,n),s=this.getTypeValueOfProp(r,t);o.changed.call(this,i,s)}}this.props.ignoreAttrs||this.update()},a.setState=function(e,t){var n=this;if(void 0===t&&(t=!1),"object"!=typeof e)throw new Error("takes an object of state variables to update");Object.keys(e).forEach(function(t){return n.state[t]=e[t]}),t||this.queuedUpdate()},a.injectObject=function(){for(var e=this,t=this.parentNode;t&&!this.store&&!q.mixin.store;)this.store=t.store,t=t.parentNode||t.host;if(this.inject){var n;for(this.injection={},t=this.parentNode;t&&!n;)n=t.provide,t=t.parentNode||t.host;n&&this.inject.forEach(function(t){e.injection[t]=n[t]})}var r=function(t){e.hasOwnProperty(t)||Object.defineProperty(e,t,{get:function(){return q.mixin[t]}})};for(var o in q.mixin)r(o)},a.createRenderRoot=function(){if(this.constructor.isLightDOM)return this;if(this.shadowRoot){for(var e;e=this.shadowRoot.firstChild;)this.shadowRoot.removeChild(e);return this.shadowRoot}return this.attachShadow({mode:"open"})},a.applyAdoptedStyleSheets=function(){if(this.constructor.isLightDOM||z.has(this.constructor))this.renderRoot.adoptedStyleSheets=z.get(this.constructor);else{var e=this.constructor.css;if(e){var t=[];t="string"==typeof e?[b(e)]:v(e)?e.map(function(e){return"string"==typeof e?b(e):e.default&&"string"==typeof e.default?b(e.default):e}):e.default&&"string"==typeof e.default?[b(e.default)]:[e],t=[].concat(q.globalCSS,t),this.renderRoot.adoptedStyleSheets=t,z.set(this.constructor,t)}else q.globalCSS.length&&(this.renderRoot.adoptedStyleSheets=q.globalCSS)}},a.appendStyleVNode=function(e){if(this.props.css&&e){var t={nodeName:"style",attributes:{},children:[this.props.css]};return v(e)?[].concat(e,[t]):[e,t]}return e},a.connectedCallback=function(){var e=this;this.injectObject(),this.attrsToProps(),this.install(),this.fire("install",this),this.renderRoot=this.createRenderRoot(),this.applyAdoptedStyleSheets(),n.setActiveComponent(this),this.beforeRender(),this.fire("beforeRender",this);var t,r=this.appendStyleVNode(this.render(this.props,this.store));this.rendered(r),n.clearActiveComponent(),this.rootElement=D(null,r,null,this,!1),v(this.rootElement)?this.rootElement.forEach(function(t){var n;null==(n=e.renderRoot)||n.appendChild(t)}):this.rootElement&&(null==(t=this.renderRoot)||t.appendChild(this.rootElement)),this.installed(),this.fire("installed",this),this.isInstalled=!0,Promise.resolve().then(function(){e.ready(),e.fire("ready",e)}),this.executeHooks("connected")},a.disconnectedCallback=function(){this.uninstall(),this.fire("uninstall",this),this.isInstalled=!1,this.executeHooks("disconnected")},a.update=function(e){this.beforeUpdate(),this.fire("beforeUpdate",this),this.attrsToProps(),n.setActiveComponent(this),this.beforeRender(),this.fire("beforeRender",this);var t=this.appendStyleVNode(this.render(this.props,this.store));this.rendered(t),n.clearActiveComponent(null),this.rootElement=D(this.rootElement,t,this.renderRoot,this,!!e),this.updated(),this.fire("updated",this)},a.queuedUpdate=function(){var e=this;this.updateQueued||(this.updateQueued=!0,Promise.resolve().then(function(){e.update(),e.updateQueued=!1}))},a.updateProps=function(e){var t=this;Object.keys(e).forEach(function(n){t.props[n]=e[n],t.prevProps&&(t.prevProps[n]=e[n])}),this.update()},a.updateSelf=function(){this.update(!0)},a.removeProp=function(e){this.removeAttribute(e),this.isInstalled&&this.update()},a.setProp=function(e,t){this.setAttribute(e,t&&"object"==typeof t?JSON.stringify(t):t),this.isInstalled&&this.update()},a.attrsToProps=function(){var e=this;if(!this.props.ignoreAttrs){var t=this,n=this.constructor;t.props.css=t.getAttribute("css");var r=n.propTypes;r&&Object.keys(r).forEach(function(r){if(!n.isComplexType(r)){var o=t.getAttribute(m(r));t.props[r]=null!==o?e.getTypeValueOfProp(r,o):n.defaultProps&&n.defaultProps.hasOwnProperty(r)?n.defaultProps[r]:null}})}},a.getTypeValueOfProp=function(e,t){for(var n=this.constructor.propTypes,r=v(n[e])?n[e]:[n[e]],o=0;o<r.length;o++)switch(r[o]){case String:return t;case Number:return Number(t);case Boolean:return Boolean("false"!==t&&"0"!==t);case Array:case Object:try{return JSON.parse(t)}catch(n){console.warn("The "+e+" object prop does not comply with the JSON specification, the incorrect string is ["+t+"].")}}},a.fire=function(e,t,n){var r=Object.assign({bubbles:!1,composed:!1},n),o=r.bubbles,i=r.composed,s=this.props["on"+function(e){return e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}).replace(/^\S/,function(e){return e.toUpperCase()})}(e)];s?s(new CustomEvent(e,{detail:t,bubbles:o,composed:i})):this.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:o,composed:i}))},a.install=function(){},a.installed=function(){},a.ready=function(){},a.uninstall=function(){},a.beforeUpdate=function(){},a.updated=function(){},a.beforeRender=function(){this.props.children||(this.props.children=E.call(this,this.childNodes))},a.rendered=function(e){},a.receiveProps=function(){},r=t,s=[{key:"observedAttributes",get:function(){var e=this;return Object.keys(this.props||{}).length>0?Object.keys(this.props).map(m):Object.keys(this.propTypes||{}).length>0?Object.keys(this.propTypes).filter(function(t){return!/^on|children/.test(t)&&!e.isComplexType(t)}).map(m):[]}}],(i=[{key:"ref",get:function(){}},{key:"hooks",get:function(){return this._hooks||(this._hooks=C(this,"hooks")||{}),this._hooks}}])&&o(r.prototype,i),s&&o(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r}(/*#__PURE__*/f(HTMLElement));G.h=P,G.f=P.f,G.is="Component",G.defaultProps=void 0,G.reflectProps=void 0,G.propTypes=void 0,G.css=void 0,G.isLightDOM=void 0,G.noSlot=void 0,G.hooks=void 0,G.props={},G.useDOMProperty=!0,G.formAssociated=!0;var X=/*#__PURE__*/function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._form=null,t._inputs=[],t._internals=null,t}c(t,e);var n=t.prototype;return n.formAssociatedCallback=function(e){},n.handleFormData=function(e){},n.getFieldValue=function(){},n.handleField=function(e){},n.formDisabledCallback=function(){},n.formResetCallback=function(){},n.formStateRestoreCallback=function(e,t){},t}(G);X.formAssociated=!1;var Z={}.hasOwnProperty;function K(){for(var e=[].slice.call(arguments),t=[],n=0;n<e.length;n++){var r=e[n];if(r){var o=typeof r;if("string"===o||"number"===o)t.push(r);else if(Array.isArray(r)&&r.length){var i=K.apply(void 0,r);i&&t.push(i)}else if("object"===o)for(var s in r)Z.call(r,s)&&r[s]&&t.push(s)}}return t.join(" ")}var Y={};Object.defineProperty(e,"batch",{enumerable:!0,get:function(){return n.batch}}),Object.defineProperty(e,"clearActiveComponent",{enumerable:!0,get:function(){return n.clearActiveComponent}}),Object.defineProperty(e,"computed",{enumerable:!0,get:function(){return n.computed}}),Object.defineProperty(e,"effect",{enumerable:!0,get:function(){return n.effect}}),Object.defineProperty(e,"getActiveComponent",{enumerable:!0,get:function(){return n.getActiveComponent}}),Object.defineProperty(e,"setActiveComponent",{enumerable:!0,get:function(){return n.setActiveComponent}}),Object.defineProperty(e,"signal",{enumerable:!0,get:function(){return n.signal}}),Object.defineProperty(e,"signalObject",{enumerable:!0,get:function(){return n.signalObject}}),e.Component=G,e.FormAssociatedComponent=X,e.WeElement=G,e.bind=function(e,t,n){return{configurable:!0,get:function(){var e=n.value.bind(this);return Object.defineProperty(this,t,{value:e,configurable:!0,writable:!0}),e}}},e.classNames=K,e.cloneElement=function(e,t){var n=[].slice.call(arguments,2);return P(e.nodeName,i({},e.attributes,t),n.length>0?n.flat():e.children)},e.createElement=P,e.createRef=function(){return{}},e.css=function(e){var t=[].slice.call(arguments,1),n="";if(e.forEach(function(e,r){if(void 0!==t[r]&&"string"!=typeof t[r]&&"number"!=typeof t[r])throw new Error("Unsupported value in CSS: "+t[r]);n+=e+(t[r]||"")}),Y[n])return Y[n];var r=new CSSStyleSheet;return r.replaceSync(n),Y[n]=r,r},e.define=W,e.defineElement=W,e.extractClass=function(e){var t=[].slice.call(arguments,1);if(e.class?(t.unshift(e.class),delete e.class):e.className&&(t.unshift(e.className),delete e.className),t.length>0)return{class:K.apply(void 0,t)}},e.globalCSS=function(e){q.globalCSS.includes(e)||q.globalCSS.push(e)},e.h=P,e.mixin=function(e){Object.assign(q.mixin,e)},e.registerDirective=function(e,t){k["o-"+e]=t},e.render=function(e,t,n){return t="string"==typeof t?document.querySelector(t):t,n&&t&&(t.store=n),D(null,e,t,null,!1)},e.tag=B,e.version="7.7.13",e.webcomponent=$});
if(typeof window!=='undefined'){window.omi=window.Omi};
//# sourceMappingURL=omi.umd.js.map
