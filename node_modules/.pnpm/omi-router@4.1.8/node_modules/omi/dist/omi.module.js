import"weakmap-polyfill";import{setActiveComponent as e,clearActiveComponent as t}from"reactive-signal";export{batch,clearActiveComponent,computed,effect,getActiveComponent,setActiveComponent,signal,signalObject}from"reactive-signal";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(null,arguments)}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(a=function(){return!!e})()}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}function l(e){var t="function"==typeof Map?new Map:void 0;return l=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(a())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var o=new(e.bind.apply(e,r));return n&&c(o,n.prototype),o}(e,arguments,i(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c(n,e)},l(e)}function f(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})}function p(e){return e.children}function d(e,t){null!=e&&("function"==typeof e?e(t):e.current=t)}function h(e){return"[object Array]"===Object.prototype.toString.call(e)}!function(){if("undefined"!=typeof document&&!("adoptedStyleSheets"in document)){var e="ShadyCSS"in window&&!ShadyCSS.nativeShadow,t=document.implementation.createHTMLDocument("boot"),n=new WeakMap,r="object"==typeof DOMException?Error:DOMException,o=Object.defineProperty,i=Array.prototype.forEach,s=/@import.+?;?$/gm,a=CSSStyleSheet.prototype;a.replace=function(){return Promise.reject(new r("Can't call replace on non-constructed CSSStyleSheets."))},a.replaceSync=function(){throw new r("Failed to execute 'replaceSync' on 'CSSStyleSheet': Can't call replaceSync on non-constructed CSSStyleSheets.")};var c=new WeakMap,u=new WeakMap,l=new WeakMap,f=j.prototype;f.replace=function(e){try{return this.replaceSync(e),Promise.resolve(this)}catch(e){return Promise.reject(e)}},f.replaceSync=function(e){if(A(this),"string"==typeof e){var t=this,n=c.get(t).ownerNode;n.textContent=function(e){var t=e.replace(s,"");return t!==e&&console.warn("@import rules are not allowed here. See https://github.com/WICG/construct-stylesheets/issues/119#issuecomment-588352418"),t.trim()}(e),c.set(t,n.sheet),u.get(t).forEach(function(e){e.isConnected()&&P(t,O(t,e))})}},o(f,"cssRules",{configurable:!0,enumerable:!0,get:function(){return A(this),c.get(this).cssRules}}),["addImport","addPageRule","addRule","deleteRule","insertRule","removeImport","removeRule"].forEach(function(e){f[e]=function(){var t=this;A(t);var n=arguments,r=c.get(t),o=u.get(t),i=r[e].apply(r,n);return o.forEach(function(r){if(r.isConnected()){var o=O(t,r).sheet;o[e].apply(o,n)}}),i}}),o(j,Symbol.hasInstance,{configurable:!0,value:E});var p={childList:!0,subtree:!0},d=new WeakMap,h=new WeakMap,v=new WeakMap,y=new WeakMap,m=_.prototype;if(m.isConnected=function(){var e=h.get(this);return e instanceof Document?"loading"!==e.readyState:function(e){return"isConnected"in e?e.isConnected:document.contains(e)}(e.host)},m.connect=function(){var e=R(this);y.get(this).observe(e,p),v.get(this).length>0&&x(this),T(e,function(e){k(e).connect()})},m.disconnect=function(){y.get(this).disconnect()},m.update=function(e){var t=this,n=h.get(t)===document?"Document":"ShadowRoot";if(!Array.isArray(e))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+n+": Iterator getter is not callable.");if(!e.every(E))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+n+": Failed to convert value to 'CSSStyleSheet'");if(e.some(C))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+n+": Can't adopt non-constructed stylesheets");t.sheets=e;var r,o,i=v.get(t),s=(r=e).filter(function(e,t){return r.indexOf(e)===t});(o=s,i.filter(function(e){return-1===o.indexOf(e)})).forEach(function(e){var n;(n=O(e,t)).parentNode.removeChild(n),function(e,t){l.get(e).delete(t),u.set(e,u.get(e).filter(function(e){return e!==t}))}(e,t)}),v.set(t,s),t.isConnected()&&s.length>0&&x(t)},window.CSSStyleSheet=j,N(Document),"ShadowRoot"in window){N(ShadowRoot);var b=Element.prototype,g=b.attachShadow;b.attachShadow=function(e){var t=g.call(this,e);return"closed"===e.mode&&n.set(this,t),t}}var S=k(document);S.isConnected()?S.connect():document.addEventListener("DOMContentLoaded",S.connect.bind(S))}function w(e){return e.shadowRoot||n.get(e)}function E(e){return"object"==typeof e&&(f.isPrototypeOf(e)||a.isPrototypeOf(e))}function C(e){return"object"==typeof e&&a.isPrototypeOf(e)}function O(e,t){return l.get(e).get(t)}function P(e,t){requestAnimationFrame(function(){var n,r;!function(e){for(var t=0;t<e.cssRules.length;t++)e.deleteRule(0)}(t.sheet),n=c.get(e),r=t.sheet,i.call(n.cssRules,function(e,t){r.insertRule(e.cssText,t)})})}function A(e){if(!c.has(e))throw new TypeError("Illegal invocation")}function j(){var e=this,n=document.createElement("style");t.body.appendChild(n),c.set(e,n.sheet),u.set(e,[]),l.set(e,new WeakMap)}function k(e){var t=d.get(e);return t||(t=new _(e),d.set(e,t)),t}function N(e){o(e.prototype,"adoptedStyleSheets",{configurable:!0,enumerable:!0,get:function(){return k(this).sheets},set:function(e){k(this).update(e)}})}function T(e,t){for(var n=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT,function(e){return w(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},null,!1),r=void 0;r=n.nextNode();)t(w(r))}function R(e){var t=h.get(e);return t instanceof Document?t.body:t}function x(e){var t=document.createDocumentFragment(),n=v.get(e),r=y.get(e),o=R(e);r.disconnect(),n.forEach(function(n){t.appendChild(O(n,e)||function(e,t){var n=document.createElement("style");return l.get(e).set(t,n),u.get(e).push(t),n}(n,e))}),o.insertBefore(t,null),r.observe(o,p),n.forEach(function(t){P(t,O(t,e))})}function _(t){var n=this;n.sheets=[],h.set(n,t),v.set(n,[]),y.set(n,new MutationObserver(function(t,r){document?t.forEach(function(t){e||i.call(t.addedNodes,function(e){e instanceof Element&&T(e,function(e){k(e).connect()})}),i.call(t.removedNodes,function(t){t instanceof Element&&(function(e,t){return t instanceof HTMLStyleElement&&v.get(e).some(function(t){return O(t,e)})}(n,t)&&x(n),e||T(t,function(e){k(e).disconnect()}))})}):r.disconnect()}))}}(),function(){var e="undefined"!=typeof window?window:global;if(void 0!==e.Reflect&&void 0!==e.customElements&&!e.customElements.hasOwnProperty("polyfillWrapFlushCallback")){var t=e.HTMLElement;e.HTMLElement=function(){return Reflect.construct(t,[],this.constructor)},HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)}}();var v=/\B([A-Z])/g;function y(e){return e.replace(v,"-$1").toLowerCase()}function m(e){var t=new CSSStyleSheet;return t.replaceSync(e),t}function b(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function g(){return{}}function S(e,t,n){return{configurable:!0,get:function(){var e=n.value.bind(this);return Object.defineProperty(this,t,{value:e,configurable:!0,writable:!0}),e}}}function w(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}function E(e){return!!/^class\s/.test(e.toString())||!1}function C(e,t,n){var r=Object.assign({merge:"uniqueMerge",default:null},n),o=E(e)?e:e.constructor,i=o[t],s=w(i)?0:Array.isArray(i)?1:2;if("none"===r.merge||2===s)return i;for(var a=0===s?Object.assign({},r.default):r.default,c=[i];o&&(o=o.__proto__)[t];)c.push(o[t]);var u=i;return u=0===s?c.reduce(function(e,t){return w(t)?Object.assign({},a,t,e):e},{}):c.reduce(function(e,t){return Array.isArray(t)&&e.push.apply(e,t),e},[]),Array.isArray(u)&&"uniqueMerge"===r.merge&&(u=Array.from(new Set(u)),w(a)&&u.forEach(function(e,t){w(e)&&(u[t]=Object.assign({},a,e))})),u||a}function O(e,t){e.hooks||(e.hooks={}),Object.entries(t).forEach(function(t){var n=t[0],r=t[1];e.hooks[n]||(e.hooks[n]=[]),e.hooks[n].push(r)})}function P(e){return Array.from(e).map(function(e){if(e.nodeType===Node.TEXT_NODE)return e.textContent||"";var t=e;if(t.nodeType===Node.ELEMENT_NODE){var n={ignoreAttrs:!1};Array.from(t.attributes).forEach(function(e){n[f(e.name)]=e.value});var r=P(t.childNodes);return{nodeName:t.tagName.toLowerCase(),attributes:n,children:r,key:n.key}}return null}).filter(Boolean)}function A(e,t){var n;if(t?"boolean"!=typeof t.ignoreAttrs&&(t.ignoreAttrs=!0):t={ignoreAttrs:!0},arguments.length>2?n=[].slice.call(arguments,2).flat():null!=t.children&&(n=t.children,delete t.children),e===p)return n;if("function"==typeof e){if(!e.tagName)return n&&(t.children=n),e(t);e=e.tagName}return{nodeName:e,children:n,attributes:t,key:t.key}}function j(e,t){var n=[].slice.call(arguments,2);return A(e.nodeName,o({},e.attributes,t),n.length>0?n.flat():e.children)}Array.prototype.flat||(Array.prototype.flat=function(e){void 0===e&&(e=1);var t=[],r=function(o,i){for(var s,a=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e))){t&&(e=t);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(o);!(s=a()).done;){var c=s.value;Array.isArray(c)&&i<e?r(c,i+1):t.push(c)}};return r(this,0),t}),A.f=p;var k={onanimationcancel:1,oncompositionend:1,oncompositionstart:1,oncompositionupdate:1,onfocusin:1,onfocusout:1,onscrollend:1,ontouchcancel:1,ontouchend:1,ontouchmove:1,ontouchstart:1},N=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,T={};function R(e,t){T["o-"+e]=t}function x(e){var t=e.parentNode;t&&t.removeChild(e)}function _(e,t,n,r,o){if("className"===t&&(t="class"),"o"==t[0]&&"-"==t[1]&&Promise.resolve().then(function(){var n;null==(n=T[t])||n.call(T,e,r)}),"key"===t||"ignoreAttrs"===t);else if("ref"===t)d(n,null),d(r,e);else if("class"!==t||o)if("style"===t)if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||L(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||L(e.style,t,r[t])}else if("unsafeHTML"===t)r&&(e.innerHTML=r.html||r||"");else if("o"==t[0]&&"n"==t[1])!function(e,t,n,r){var o=t!==(t=t.replace(/Capture$/,"")),i=t.toLowerCase();t=(k[i]||i in e?i:t).slice(2),n?r||e.addEventListener(t,M,o):e.removeEventListener(t,M,o),(e._listeners||(e._listeners={}))[t]=n}(e,t,r,n);else if("INPUT"===e.nodeName&&"value"===t)e.value=null==r?"":r;else if("list"!==t&&"type"!==t&&"css"!==t&&!o&&t in e){try{e[t]=null==r?"":r}catch(e){}null!=r&&!1!==r||"spellcheck"==t||e.removeAttribute(t)}else{var i=o&&t!==(t=t.replace(/^xlink:?/,""));if(null==r||!1===r)i?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t);else if("function"!=typeof r)if(i)e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r);else if("Component"===e.constructor.is){var s,a=null==(s=e.constructor.reflectProps)?void 0:s[t];a&&e.setAttribute(t,"function"==typeof a?a(r):r)}else e.setAttribute(t,r)}else e.className=r||""}function M(e){return this._listeners[e.type](e)}function L(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n.toString()):e[t]=null==n?"":"number"!=typeof n||N.test(t)?n.toString():n+"px"}var F=0,D=!1,I=!1,V=!1;function H(e,t,n,r,o){return e||t?(r&&r.constructor.isLightDOM&&(r.innerHTML=""),F++||(D=null!=n&&void 0!==n.ownerSVGElement,V=!1),h(t)?n?(W(n,t,V,r,o),i=n.childNodes):(i=[],t.forEach(function(t,n){var s=U(0===n?e:null,t,r,o);i.push(s)})):(h(e)||e instanceof NodeList?[].concat(e).forEach(function(e,n){0===n?i=U(e,t,r,o):q(e,!1)}):i=U(e,t,r,o),n&&(null==(s=i)?void 0:s.parentNode)!==n&&n.appendChild(i)),--F||(V=!1),i):null;var i,s}function U(e,t,n,r){e&&t&&e.props&&(e.props.children=t.children);var o,i=e,s=D,a=I;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||n)?e.nodeValue!=t&&(e.nodeValue=String(t)):(i=document.createTextNode(String(t)),e&&(e.parentNode&&(null==(o=e.parentNode)||o.replaceChild(i,e)),q(e,!0))),i&&(i.prevProps={}),i;var c,u,l,p=t.nodeName;if(I="foreignObject"===p,D="svg"===p||!I&&D,p=String(p),(!e||!b(e,p))&&(u=p,(l=I||D?document.createElementNS("http://www.w3.org/2000/svg",u):document.createElement(u)).normalizedNodeName=u,"Component"===(null==(c=(i=l).constructor)?void 0:c.is)&&Object.assign(i.props,t.attributes),e)){for(var d;e.firstChild;)i.appendChild(e.firstChild);e.parentNode&&(null==(d=e.parentNode)||d.replaceChild(i,e)),q(e,!0)}var h=i.firstChild,v=i.prevProps,y=t.children;if(null==v){v=i.prevProps={};for(var m=i.attributes,g=m.length;g--;)v[m[g].name]=m[g].value}return!V&&y&&1===y.length&&"string"==typeof y[0]&&null!=h&&void 0!==h.splitText&&null==h.nextSibling?h.nodeValue!=y[0]&&(h.nodeValue=y[0]):(y&&y.length||null!=h)&&("Component"==i.constructor.is&&i.constructor.noSlot||W(i,y,V||null!=v.unsafeHTML,n,r)),function(e,t,n,r,o){var i,s,a=e.update;if(e.receiveProps&&(s=Object.assign({},n),e)){if(e.constructor.defaultProps){var c=e.constructor.defaultProps;for(var u in c)void 0===s[u]&&(s[u]=c[u])}if(e.constructor.props){var l=e.constructor.props;for(var p in l){var d;void 0!==(null==(d=l[p])?void 0:d.default)&&void 0===s[p]&&(s[p]=l[p].default)}}}for(i in n)t&&null!=t[i]||null==n[i]||(_(e,i,n[i],n[i]=void 0,I||D),a&&delete e.props[i]);for(i in t)if(a&&"object"==typeof t[i]&&"ref"!==i){("style"===i||"o"===i[0]&&"-"===i[1])&&_(e,i,n[i],n[i]=t[i],I||D);var h=f(i);e.props[h]=n[h]=t[i]}else if("children"!==i&&(!(i in n)||t[i]!==("value"===i||"checked"===i?e[i]:n[i])))if(_(e,i,n[i],t[i],I||D),-1!==e.nodeName.indexOf("-")){e.props=e.props||{};var v=f(i);e.props[v]=n[v]=t[i]}else n[i]=t[i];a&&!o&&e.parentNode&&!1!==(null==e||null==e.receiveProps?void 0:e.receiveProps(e.props,s))&&(null==e||null==e.queuedUpdate||e.queuedUpdate())}(i,t.attributes,v,0,r),i.props&&(i.props.children=t.children),D=s,I=a,i}function W(e,t,n,r,o){var i,s,a,c,u,l,f,p=e.childNodes,d=[],h={},v=0,y=0,m=p.length,g=0,S=t?t.length:0;if(0!==m)for(var w=0;w<m;w++){var E,C=p[w],O=C.prevProps,P=S&&O?O.key:null;null!=P?(v++,h[P]=C):(O||(void 0!==C.splitText?!n||(null==(E=C.nodeValue)?void 0:E.trim()):n))&&(d[g++]=C)}if(0!==S)for(var A=0;A<S;A++){if(u=null,c=t[A]){var j=c.key;if(null!=j)v&&void 0!==h[j]&&(u=h[j],h[j]=void 0,v--);else if(y<g)for(i=y;i<g;i++)if(void 0!==d[i]&&(l=s=d[i],"string"==typeof(f=c)||"number"==typeof f?void 0!==l.splitText:b(l,f.nodeName))){u=s,d[i]=void 0,i===g-1&&g--,i===y&&y++;break}}u=U(u,c,r,o),a=p[A],u&&u!==e&&u!==a&&(null==a?e.appendChild(u):u===a.nextSibling?x(a):e.insertBefore(u,a))}if(v)for(var k in h)void 0!==h[k]&&q(h[k],!1);for(;y<=g;)void 0!==(u=d[g--])&&q(u,!1)}function q(e,t){null!=e.prevProps&&e.prevProps.ref&&("function"==typeof e.prevProps.ref?e.prevProps.ref(null):e.prevProps.ref.current&&(e.prevProps.ref.current=null)),!1!==t&&null!=e.prevProps||x(e),function(e){var t;for(e=null==(t=e)?void 0:t.lastChild;e;){var n=e.previousSibling;q(e,!0),e=n}}(e)}var B={mixin:{},globalCSS:[]};function $(e){Object.assign(B.mixin,e)}function J(e){B.globalCSS.includes(e)||B.globalCSS.push(e)}var Q={define:function(e){e.prototype.formAssociatedCallback=function(e){this._form=e,this._form&&this._form.addEventListener("formdata",this.handleFormData.bind(this))}},initial:function(e){e.getFieldValue||(e.getFieldValue=function(){var t,n={};return e._inputs=null==(t=e.shadowRoot)?void 0:t.querySelectorAll("input"),e._inputs.forEach(function(e){n[e.name]=e.value}),n}),e.resetFieldValue||(e.resetFieldValue=function(){var t;e._inputs=null==(t=e.shadowRoot)?void 0:t.querySelectorAll("input"),e._inputs.forEach(function(e){e.value=""})}),e.handleFormData||(e.handleFormData=function(t){var n=t.formData;if(n){var r=e.getFieldValue();Object.entries(r).forEach(function(e){n.append(e[0],e[1])})}}),e._internals=e.attachInternals()},connected:function(e){}};function z(e,t){Object.defineProperty(t,"tagName",{value:e,writable:!1}),customElements.get(e)?console.warn("Failed to execute 'define' on 'CustomElementRegistry': the tag name \""+e+'" has already been used with this registry'):customElements.define(e,t)}function G(e,t){var n=Object.assign({formAssociated:!1},t).formAssociated;return function(t){n&&(n&&(O(t,Q),t.formAssociated=!0),function(e,t){var n=e._hooks?e._hooks:C(e,"hooks")||{};if(E(e)||(e._hooks=n),t in n){var r=n[t];Array.isArray(r)&&r.forEach(function(n){try{n.call(e,e)}catch(n){console.warn("Error occurred while executing hook function "+(E(e)?e.constructor.name:e.name)+"/"+t+":",n)}})}}(t,"define")),z(e,t)}}var X=G,Z={initial:function(e){Object.defineProperty(e,"ref",{get:function(){return e._ref||(e._ref=new Proxy({current:void 0},{set:function(t,n,r,o){return"current"===n&&e.fire("refAttached",{ref:r,target:e},{bubbles:!0,composed:!0}),Reflect.set(t,n,r,o)}})),e._ref}}),e._onRefAttached=function(t){var n=t.detail;n.target!==e&&e.props.ref&&(e.props.ref.current=n.ref)},e.addEventListener("refAttached",e._onRefAttached)},disconnected:function(e){e.removeEventListener("refAttached",e._onRefAttached)}},K=0,Y=new WeakMap,ee=/*#__PURE__*/function(n){function o(){var e;return(e=n.call(this)||this).elementId=void 0,e.isInstalled=void 0,e.inject=void 0,e.injection=void 0,e.renderRoot=void 0,e.rootElement=void 0,e._hooks=void 0,e._ref=null,e.state=void 0,e.updateQueued=!1,e.handleProps(),O(e,Z),e.executeHooks("initial"),e.elementId=K++,e.isInstalled=!1,e.rootElement=null,e}s(o,n),o.define=function(e){z(e,this)};var i,a,c,u=o.prototype;return u.executeHooks=function(e){var t=this;if(e in this.hooks){var n=this.hooks[e];Array.isArray(n)&&n.forEach(function(n){try{n.call(t,t)}catch(n){console.warn("Error occurred while executing hook function "+t.constructor.name+"/"+e+":",n)}})}},u.handleProps=function(){this.constructor.defaultProps=C(this,"defaultProps",{default:{}})||{},this.constructor.propTypes=C(this,"propTypes",{default:{}})||{},this.constructor.reflectProps=C(this,"reflectProps",{default:{}})||{};var e=C(this,"props",{default:{},merge:"uniqueMerge"});if(this.constructor.props)for(var t in e){var n=e[t];this.constructor.defaultProps[t]=n.default,this.constructor.propTypes[t]=n.type,this.constructor.reflectProps[t]=n.reflect}this.props=Object.assign({},this.constructor.defaultProps,this.props),this.props.ignoreAttrs||this.handleComplexProps()},u.handleComplexProps=function(){var e=this;Object.keys(this.constructor.propTypes).forEach(function(t){e.constructor.isComplexType(t)&&Object.defineProperty(e,t,{get:function(){return e.props[t]},set:function(n){Object.is(n,e.props[t])||(e.props[t]=n,e.queuedUpdate())},enumerable:!0,configurable:!0})})},o.isComplexType=function(e){if(!this.useDOMProperty)return!1;var t=this.propTypes;return!(!t[e]||/^on|children/.test(e))&&(h(t[e])?t[e]:[t[e]]).some(function(e){return e===Object||e===Array||h(e)&&e.includes(Object)})},u.attributeChangedCallback=function(e,t,n){var r=f(e);if(this.constructor.props&&this.constructor.props[r]){var o=this.constructor.props[r];if(o.changed){var i=this.getTypeValueOfProp(r,n),s=this.getTypeValueOfProp(r,t);o.changed.call(this,i,s)}}this.props.ignoreAttrs||this.update()},u.setState=function(e,t){var n=this;if(void 0===t&&(t=!1),"object"!=typeof e)throw new Error("takes an object of state variables to update");Object.keys(e).forEach(function(t){return n.state[t]=e[t]}),t||this.queuedUpdate()},u.injectObject=function(){for(var e=this,t=this.parentNode;t&&!this.store&&!B.mixin.store;)this.store=t.store,t=t.parentNode||t.host;if(this.inject){var n;for(this.injection={},t=this.parentNode;t&&!n;)n=t.provide,t=t.parentNode||t.host;n&&this.inject.forEach(function(t){e.injection[t]=n[t]})}var r=function(t){e.hasOwnProperty(t)||Object.defineProperty(e,t,{get:function(){return B.mixin[t]}})};for(var o in B.mixin)r(o)},u.createRenderRoot=function(){if(this.constructor.isLightDOM)return this;if(this.shadowRoot){for(var e;e=this.shadowRoot.firstChild;)this.shadowRoot.removeChild(e);return this.shadowRoot}return this.attachShadow({mode:"open"})},u.applyAdoptedStyleSheets=function(){if(this.constructor.isLightDOM||Y.has(this.constructor))this.renderRoot.adoptedStyleSheets=Y.get(this.constructor);else{var e=this.constructor.css;if(e){var t=[];t="string"==typeof e?[m(e)]:h(e)?e.map(function(e){return"string"==typeof e?m(e):e.default&&"string"==typeof e.default?m(e.default):e}):e.default&&"string"==typeof e.default?[m(e.default)]:[e],t=[].concat(B.globalCSS,t),this.renderRoot.adoptedStyleSheets=t,Y.set(this.constructor,t)}else B.globalCSS.length&&(this.renderRoot.adoptedStyleSheets=B.globalCSS)}},u.appendStyleVNode=function(e){if(this.props.css&&e){var t={nodeName:"style",attributes:{},children:[this.props.css]};return h(e)?[].concat(e,[t]):[e,t]}return e},u.connectedCallback=function(){var n=this;this.injectObject(),this.attrsToProps(),this.install(),this.fire("install",this),this.renderRoot=this.createRenderRoot(),this.applyAdoptedStyleSheets(),e(this),this.beforeRender(),this.fire("beforeRender",this);var r,o=this.appendStyleVNode(this.render(this.props,this.store));this.rendered(o),t(),this.rootElement=H(null,o,null,this,!1),h(this.rootElement)?this.rootElement.forEach(function(e){var t;null==(t=n.renderRoot)||t.appendChild(e)}):this.rootElement&&(null==(r=this.renderRoot)||r.appendChild(this.rootElement)),this.installed(),this.fire("installed",this),this.isInstalled=!0,Promise.resolve().then(function(){n.ready(),n.fire("ready",n)}),this.executeHooks("connected")},u.disconnectedCallback=function(){this.uninstall(),this.fire("uninstall",this),this.isInstalled=!1,this.executeHooks("disconnected")},u.update=function(n){this.beforeUpdate(),this.fire("beforeUpdate",this),this.attrsToProps(),e(this),this.beforeRender(),this.fire("beforeRender",this);var r=this.appendStyleVNode(this.render(this.props,this.store));this.rendered(r),t(null),this.rootElement=H(this.rootElement,r,this.renderRoot,this,!!n),this.updated(),this.fire("updated",this)},u.queuedUpdate=function(){var e=this;this.updateQueued||(this.updateQueued=!0,Promise.resolve().then(function(){e.update(),e.updateQueued=!1}))},u.updateProps=function(e){var t=this;Object.keys(e).forEach(function(n){t.props[n]=e[n],t.prevProps&&(t.prevProps[n]=e[n])}),this.update()},u.updateSelf=function(){this.update(!0)},u.removeProp=function(e){this.removeAttribute(e),this.isInstalled&&this.update()},u.setProp=function(e,t){this.setAttribute(e,t&&"object"==typeof t?JSON.stringify(t):t),this.isInstalled&&this.update()},u.attrsToProps=function(){var e=this;if(!this.props.ignoreAttrs){var t=this,n=this.constructor;t.props.css=t.getAttribute("css");var r=n.propTypes;r&&Object.keys(r).forEach(function(r){if(!n.isComplexType(r)){var o=t.getAttribute(y(r));t.props[r]=null!==o?e.getTypeValueOfProp(r,o):n.defaultProps&&n.defaultProps.hasOwnProperty(r)?n.defaultProps[r]:null}})}},u.getTypeValueOfProp=function(e,t){for(var n=this.constructor.propTypes,r=h(n[e])?n[e]:[n[e]],o=0;o<r.length;o++)switch(r[o]){case String:return t;case Number:return Number(t);case Boolean:return Boolean("false"!==t&&"0"!==t);case Array:case Object:try{return JSON.parse(t)}catch(n){console.warn("The "+e+" object prop does not comply with the JSON specification, the incorrect string is ["+t+"].")}}},u.fire=function(e,t,n){var r=Object.assign({bubbles:!1,composed:!1},n),o=r.bubbles,i=r.composed,s=this.props["on"+function(e){return e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}).replace(/^\S/,function(e){return e.toUpperCase()})}(e)];s?s(new CustomEvent(e,{detail:t,bubbles:o,composed:i})):this.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:o,composed:i}))},u.install=function(){},u.installed=function(){},u.ready=function(){},u.uninstall=function(){},u.beforeUpdate=function(){},u.updated=function(){},u.beforeRender=function(){this.props.children||(this.props.children=P.call(this,this.childNodes))},u.rendered=function(e){},u.receiveProps=function(){},i=o,c=[{key:"observedAttributes",get:function(){var e=this;return Object.keys(this.props||{}).length>0?Object.keys(this.props).map(y):Object.keys(this.propTypes||{}).length>0?Object.keys(this.propTypes).filter(function(t){return!/^on|children/.test(t)&&!e.isComplexType(t)}).map(y):[]}}],(a=[{key:"ref",get:function(){}},{key:"hooks",get:function(){return this._hooks||(this._hooks=C(this,"hooks")||{}),this._hooks}}])&&r(i.prototype,a),c&&r(i,c),Object.defineProperty(i,"prototype",{writable:!1}),i}(/*#__PURE__*/l(HTMLElement));ee.h=A,ee.f=A.f,ee.is="Component",ee.defaultProps=void 0,ee.reflectProps=void 0,ee.propTypes=void 0,ee.css=void 0,ee.isLightDOM=void 0,ee.noSlot=void 0,ee.hooks=void 0,ee.props={},ee.useDOMProperty=!0,ee.formAssociated=!0;var te=/*#__PURE__*/function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._form=null,t._inputs=[],t._internals=null,t}s(t,e);var n=t.prototype;return n.formAssociatedCallback=function(e){},n.handleFormData=function(e){},n.getFieldValue=function(){},n.handleField=function(e){},n.formDisabledCallback=function(){},n.formResetCallback=function(){},n.formStateRestoreCallback=function(e,t){},t}(ee);function ne(e,t,n){return t="string"==typeof t?document.querySelector(t):t,n&&t&&(t.store=n),H(null,e,t,null,!1)}te.formAssociated=!1;var re={}.hasOwnProperty;function oe(){for(var e=[].slice.call(arguments),t=[],n=0;n<e.length;n++){var r=e[n];if(r){var o=typeof r;if("string"===o||"number"===o)t.push(r);else if(Array.isArray(r)&&r.length){var i=oe.apply(void 0,r);i&&t.push(i)}else if("object"===o)for(var s in r)re.call(r,s)&&r[s]&&t.push(s)}}return t.join(" ")}function ie(e){var t=[].slice.call(arguments,1);if(e.class?(t.unshift(e.class),delete e.class):e.className&&(t.unshift(e.className),delete e.className),t.length>0)return{class:oe.apply(void 0,t)}}var se={};function ae(e){var t=[].slice.call(arguments,1),n="";if(e.forEach(function(e,r){if(void 0!==t[r]&&"string"!=typeof t[r]&&"number"!=typeof t[r])throw new Error("Unsupported value in CSS: "+t[r]);n+=e+(t[r]||"")}),se[n])return se[n];var r=new CSSStyleSheet;return r.replaceSync(n),se[n]=r,r}var ce="7.7.13";export{ee as Component,te as FormAssociatedComponent,ee as WeElement,S as bind,oe as classNames,j as cloneElement,A as createElement,g as createRef,ae as css,z as define,z as defineElement,ie as extractClass,J as globalCSS,A as h,$ as mixin,R as registerDirective,ne as render,G as tag,ce as version,X as webcomponent};
//# sourceMappingURL=omi.module.js.map
