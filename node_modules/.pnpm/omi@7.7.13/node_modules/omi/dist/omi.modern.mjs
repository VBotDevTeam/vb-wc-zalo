import"weakmap-polyfill";import{setActiveComponent as e,clearActiveComponent as t}from"reactive-signal";export{batch,clearActiveComponent,computed,effect,getActiveComponent,setActiveComponent,signal,signalObject}from"reactive-signal";function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)({}).hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},o.apply(null,arguments)}function n(e){return e.replace(/-(\w)/g,(e,t)=>t.toUpperCase())}function r(e){return e.children}function s(e,t){null!=e&&("function"==typeof e?e(t):e.current=t)}function i(e){return"[object Array]"===Object.prototype.toString.call(e)}!function(){if("undefined"!=typeof document&&!("adoptedStyleSheets"in document)){var e="ShadyCSS"in window&&!ShadyCSS.nativeShadow,t=document.implementation.createHTMLDocument("boot"),o=new WeakMap,n="object"==typeof DOMException?Error:DOMException,r=Object.defineProperty,s=Array.prototype.forEach,i=/@import.+?;?$/gm,l=CSSStyleSheet.prototype;l.replace=function(){return Promise.reject(new n("Can't call replace on non-constructed CSSStyleSheets."))},l.replaceSync=function(){throw new n("Failed to execute 'replaceSync' on 'CSSStyleSheet': Can't call replaceSync on non-constructed CSSStyleSheets.")};var c=new WeakMap,a=new WeakMap,u=new WeakMap,p=N.prototype;p.replace=function(e){try{return this.replaceSync(e),Promise.resolve(this)}catch(e){return Promise.reject(e)}},p.replaceSync=function(e){if(A(this),"string"==typeof e){var t=this,o=c.get(t).ownerNode;o.textContent=function(e){var t=e.replace(i,"");return t!==e&&console.warn("@import rules are not allowed here. See https://github.com/WICG/construct-stylesheets/issues/119#issuecomment-588352418"),t.trim()}(e),c.set(t,o.sheet),a.get(t).forEach(function(e){e.isConnected()&&O(t,P(t,e))})}},r(p,"cssRules",{configurable:!0,enumerable:!0,get:function(){return A(this),c.get(this).cssRules}}),["addImport","addPageRule","addRule","deleteRule","insertRule","removeImport","removeRule"].forEach(function(e){p[e]=function(){var t=this;A(t);var o=arguments,n=c.get(t),r=a.get(t),s=n[e].apply(n,o);return r.forEach(function(n){if(n.isConnected()){var r=P(t,n).sheet;r[e].apply(r,o)}}),s}}),r(N,Symbol.hasInstance,{configurable:!0,value:E});var d={childList:!0,subtree:!0},h=new WeakMap,f=new WeakMap,m=new WeakMap,y=new WeakMap,g=M.prototype;if(g.isConnected=function(){var e=f.get(this);return e instanceof Document?"loading"!==e.readyState:function(e){return"isConnected"in e?e.isConnected:document.contains(e)}(e.host)},g.connect=function(){var e=R(this);y.get(this).observe(e,d),m.get(this).length>0&&x(this),T(e,function(e){k(e).connect()})},g.disconnect=function(){y.get(this).disconnect()},g.update=function(e){var t=this,o=f.get(t)===document?"Document":"ShadowRoot";if(!Array.isArray(e))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+o+": Iterator getter is not callable.");if(!e.every(E))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+o+": Failed to convert value to 'CSSStyleSheet'");if(e.some(C))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+o+": Can't adopt non-constructed stylesheets");t.sheets=e;var n,r,s=m.get(t),i=(n=e).filter(function(e,t){return n.indexOf(e)===t});(r=i,s.filter(function(e){return-1===r.indexOf(e)})).forEach(function(e){var o;(o=P(e,t)).parentNode.removeChild(o),function(e,t){u.get(e).delete(t),a.set(e,a.get(e).filter(function(e){return e!==t}))}(e,t)}),m.set(t,i),t.isConnected()&&i.length>0&&x(t)},window.CSSStyleSheet=N,j(Document),"ShadowRoot"in window){j(ShadowRoot);var v=Element.prototype,b=v.attachShadow;v.attachShadow=function(e){var t=b.call(this,e);return"closed"===e.mode&&o.set(this,t),t}}var S=k(document);S.isConnected()?S.connect():document.addEventListener("DOMContentLoaded",S.connect.bind(S))}function w(e){return e.shadowRoot||o.get(e)}function E(e){return"object"==typeof e&&(p.isPrototypeOf(e)||l.isPrototypeOf(e))}function C(e){return"object"==typeof e&&l.isPrototypeOf(e)}function P(e,t){return u.get(e).get(t)}function O(e,t){requestAnimationFrame(function(){var o,n;!function(e){for(var t=0;t<e.cssRules.length;t++)e.deleteRule(0)}(t.sheet),o=c.get(e),n=t.sheet,s.call(o.cssRules,function(e,t){n.insertRule(e.cssText,t)})})}function A(e){if(!c.has(e))throw new TypeError("Illegal invocation")}function N(){var e=this,o=document.createElement("style");t.body.appendChild(o),c.set(e,o.sheet),a.set(e,[]),u.set(e,new WeakMap)}function k(e){var t=h.get(e);return t||(t=new M(e),h.set(e,t)),t}function j(e){r(e.prototype,"adoptedStyleSheets",{configurable:!0,enumerable:!0,get:function(){return k(this).sheets},set:function(e){k(this).update(e)}})}function T(e,t){for(var o=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT,function(e){return w(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},null,!1),n=void 0;n=o.nextNode();)t(w(n))}function R(e){var t=f.get(e);return t instanceof Document?t.body:t}function x(e){var t=document.createDocumentFragment(),o=m.get(e),n=y.get(e),r=R(e);n.disconnect(),o.forEach(function(o){t.appendChild(P(o,e)||function(e,t){var o=document.createElement("style");return u.get(e).set(t,o),a.get(e).push(t),o}(o,e))}),r.insertBefore(t,null),n.observe(r,d),o.forEach(function(t){O(t,P(t,e))})}function M(t){var o=this;o.sheets=[],f.set(o,t),m.set(o,[]),y.set(o,new MutationObserver(function(t,n){document?t.forEach(function(t){e||s.call(t.addedNodes,function(e){e instanceof Element&&T(e,function(e){k(e).connect()})}),s.call(t.removedNodes,function(t){t instanceof Element&&(function(e,t){return t instanceof HTMLStyleElement&&m.get(e).some(function(t){return P(t,e)})}(o,t)&&x(o),e||T(t,function(e){k(e).disconnect()}))})}):n.disconnect()}))}}(),function(){const e="undefined"!=typeof window?window:global;if(void 0===e.Reflect||void 0===e.customElements||e.customElements.hasOwnProperty("polyfillWrapFlushCallback"))return;const t=e.HTMLElement;e.HTMLElement=function(){return Reflect.construct(t,[],this.constructor)},HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)}();const l=/\B([A-Z])/g;function c(e){return e.replace(l,"-$1").toLowerCase()}function a(e){const t=new CSSStyleSheet;return t.replaceSync(e),t}function u(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function p(){return{}}function d(e,t,o){return{configurable:!0,get(){const e=o.value.bind(this);return Object.defineProperty(this,t,{value:e,configurable:!0,writable:!0}),e}}}function h(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}function f(e){return!!/^class\s/.test(e.toString())||!1}function m(e,t,o){const n=Object.assign({merge:"uniqueMerge",default:null},o);let r=f(e)?e:e.constructor,s=r[t],i=h(s)?0:Array.isArray(s)?1:2;if("none"===n.merge||2===i)return s;const l=0===i?Object.assign({},n.default):n.default;let c=[s];for(;r&&(r=r.__proto__,r[t]);)c.push(r[t]);let a=s;return a=0===i?c.reduce((e,t)=>h(t)?Object.assign({},l,t,e):e,{}):c.reduce((e,t)=>(Array.isArray(t)&&e.push(...t),e),[]),Array.isArray(a)&&"uniqueMerge"===n.merge&&(a=Array.from(new Set(a)),h(l)&&a.forEach((e,t)=>{h(e)&&(a[t]=Object.assign({},l,e))})),a||l}function y(e,t){e.hooks||(e.hooks={}),Object.entries(t).forEach(([t,o])=>{e.hooks[t]||(e.hooks[t]=[]),e.hooks[t].push(o)})}function g(e){return Array.from(e).map(e=>{if(e.nodeType===Node.TEXT_NODE)return e.textContent||"";const t=e;if(t.nodeType===Node.ELEMENT_NODE){const e={ignoreAttrs:!1};Array.from(t.attributes).forEach(t=>{e[n(t.name)]=t.value});const o=g(t.childNodes);return{nodeName:t.tagName.toLowerCase(),attributes:e,children:o,key:e.key}}return null}).filter(Boolean)}function v(e,t,...o){let n;if(t?"boolean"!=typeof t.ignoreAttrs&&(t.ignoreAttrs=!0):t={ignoreAttrs:!0},arguments.length>2?n=o.flat():null!=t.children&&(n=t.children,delete t.children),e===r)return n;if("function"==typeof e){if(!e.tagName)return n&&(t.children=n),e(t);e=e.tagName}return{nodeName:e,children:n,attributes:t,key:t.key}}function b(e,t,...n){return v(e.nodeName,o({},e.attributes,t),n.length>0?n.flat():e.children)}Array.prototype.flat||(Array.prototype.flat=function(e=1){const t=[],o=(n,r)=>{for(const s of n)Array.isArray(s)&&r<e?o(s,r+1):t.push(s)};return o(this,0),t}),v.f=r;const S={onanimationcancel:1,oncompositionend:1,oncompositionstart:1,oncompositionupdate:1,onfocusin:1,onfocusout:1,onscrollend:1,ontouchcancel:1,ontouchend:1,ontouchmove:1,ontouchstart:1},w=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,E={};function C(e,t){E["o-"+e]=t}function P(e){let t=e.parentNode;t&&t.removeChild(e)}function O(e,t,o,n,r){if("className"===t&&(t="class"),"o"==t[0]&&"-"==t[1]&&Promise.resolve().then(()=>{var o;null==(o=E[t])||o.call(E,e,n)}),"key"===t||"ignoreAttrs"===t);else if("ref"===t)s(o,null),s(n,e);else if("class"!==t||r)if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof o&&(e.style.cssText=o=""),o)for(t in o)n&&t in n||N(e.style,t,"");if(n)for(t in n)o&&n[t]===o[t]||N(e.style,t,n[t])}else if("unsafeHTML"===t)n&&(e.innerHTML=n.html||n||"");else if("o"==t[0]&&"n"==t[1])!function(e,t,o,n){let r=t!==(t=t.replace(/Capture$/,"")),s=t.toLowerCase();t=(S[s]||s in e?s:t).slice(2),o?n||e.addEventListener(t,A,r):e.removeEventListener(t,A,r),(e._listeners||(e._listeners={}))[t]=o}(e,t,n,o);else if("INPUT"===e.nodeName&&"value"===t)e.value=null==n?"":n;else if("list"!==t&&"type"!==t&&"css"!==t&&!r&&t in e){try{e[t]=null==n?"":n}catch(e){}null!=n&&!1!==n||"spellcheck"==t||e.removeAttribute(t)}else{let o=r&&t!==(t=t.replace(/^xlink:?/,""));if(null==n||!1===n)o?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t);else if("function"!=typeof n)if(o)e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n);else if("Component"===e.constructor.is){var i;const o=null==(i=e.constructor.reflectProps)?void 0:i[t];o&&e.setAttribute(t,"function"==typeof o?o(n):n)}else e.setAttribute(t,n)}else e.className=n||""}function A(e){return this._listeners[e.type](e)}function N(e,t,o){"-"===t[0]?e.setProperty(t,null==o?"":o.toString()):e[t]=null==o?"":"number"!=typeof o||w.test(t)?o.toString():o+"px"}let k=0,j=!1,T=!1,R=!1;function x(e,t,o,n,r){if(!e&&!t)return null;let s;var l;return n&&n.constructor.isLightDOM&&(n.innerHTML=""),k++||(j=null!=o&&void 0!==o.ownerSVGElement,R=!1),i(t)?o?(_(o,t,R,n,r),s=o.childNodes):(s=[],t.forEach((t,o)=>{let i=M(0===o?e:null,t,n,r);s.push(i)})):(i(e)||e instanceof NodeList?[...e].forEach((e,o)=>{0===o?s=M(e,t,n,r):L(e,!1)}):s=M(e,t,n,r),o&&(null==(l=s)?void 0:l.parentNode)!==o&&o.appendChild(s)),--k||(R=!1),s}function M(e,t,o,r){e&&t&&e.props&&(e.props.children=t.children);let s=e,i=j,l=T;var c;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||o)?e.nodeValue!=t&&(e.nodeValue=String(t)):(s=document.createTextNode(String(t)),e&&(e.parentNode&&(null==(c=e.parentNode)||c.replaceChild(s,e)),L(e,!0))),s&&(s.prevProps={}),s;let a=t.nodeName;var p;if(T="foreignObject"===a,j="svg"===a||!T&&j,a=String(a),(!e||!u(e,a))&&(s=function(e){let t=T||j?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return t.normalizedNodeName=e,t}(a),"Component"===(null==(p=s.constructor)?void 0:p.is)&&Object.assign(s.props,t.attributes),e)){for(var d;e.firstChild;)s.appendChild(e.firstChild);e.parentNode&&(null==(d=e.parentNode)||d.replaceChild(s,e)),L(e,!0)}let h=s.firstChild,f=s.prevProps,m=t.children;if(null==f){f=s.prevProps={};for(let e=s.attributes,t=e.length;t--;)f[e[t].name]=e[t].value}return!R&&m&&1===m.length&&"string"==typeof m[0]&&null!=h&&void 0!==h.splitText&&null==h.nextSibling?h.nodeValue!=m[0]&&(h.nodeValue=m[0]):(m&&m.length||null!=h)&&("Component"==s.constructor.is&&s.constructor.noSlot||_(s,m,R||null!=f.unsafeHTML,o,r)),function(e,t,o,r,s){let i,l,c=e.update;if(e.receiveProps&&(l=Object.assign({},o),e)){if(e.constructor.defaultProps){const t=e.constructor.defaultProps;for(const e in t)void 0===l[e]&&(l[e]=t[e])}if(e.constructor.props){const t=e.constructor.props;for(const e in t){var a;void 0!==(null==(a=t[e])?void 0:a.default)&&void 0===l[e]&&(l[e]=t[e].default)}}}for(i in o)t&&null!=t[i]||null==o[i]||(O(e,i,o[i],o[i]=void 0,T||j),c&&delete e.props[i]);for(i in t)if(c&&"object"==typeof t[i]&&"ref"!==i){("style"===i||"o"===i[0]&&"-"===i[1])&&O(e,i,o[i],o[i]=t[i],T||j);let r=n(i);e.props[r]=o[r]=t[i]}else if("children"!==i&&(!(i in o)||t[i]!==("value"===i||"checked"===i?e[i]:o[i])))if(O(e,i,o[i],t[i],T||j),-1!==e.nodeName.indexOf("-")){e.props=e.props||{};let r=n(i);e.props[r]=o[r]=t[i]}else o[i]=t[i];c&&!s&&e.parentNode&&!1!==(null==e||null==e.receiveProps?void 0:e.receiveProps(e.props,l))&&(null==e||null==e.queuedUpdate||e.queuedUpdate())}(s,t.attributes,f,0,r),s.props&&(s.props.children=t.children),j=i,T=l,s}function _(e,t,o,n,r){let s,i,l,c,a,p=e.childNodes,d=[],h={},f=0,m=0,y=p.length,g=0,v=t?t.length:0;if(0!==y)for(let e=0;e<y;e++){var b;let t=p[e],n=t.prevProps,r=v&&n?n.key:null;null!=r?(f++,h[r]=t):(n||(void 0!==t.splitText?!o||(null==(b=t.nodeValue)?void 0:b.trim()):o))&&(d[g++]=t)}if(0!==v)for(let o=0;o<v;o++){if(c=t[o],a=null,c){let e=c.key;if(null!=e)f&&void 0!==h[e]&&(a=h[e],h[e]=void 0,f--);else if(m<g)for(s=m;s<g;s++)if(void 0!==d[s]&&(S=i=d[s],"string"==typeof(w=c)||"number"==typeof w?void 0!==S.splitText:u(S,w.nodeName))){a=i,d[s]=void 0,s===g-1&&g--,s===m&&m++;break}}a=M(a,c,n,r),l=p[o],a&&a!==e&&a!==l&&(null==l?e.appendChild(a):a===l.nextSibling?P(l):e.insertBefore(a,l))}var S,w;if(f)for(let e in h)void 0!==h[e]&&L(h[e],!1);for(;m<=g;)void 0!==(a=d[g--])&&L(a,!1)}function L(e,t){null!=e.prevProps&&e.prevProps.ref&&("function"==typeof e.prevProps.ref?e.prevProps.ref(null):e.prevProps.ref.current&&(e.prevProps.ref.current=null)),!1!==t&&null!=e.prevProps||P(e),function(e){var t;for(e=null==(t=e)?void 0:t.lastChild;e;){let t=e.previousSibling;L(e,!0),e=t}}(e)}const F={mixin:{},globalCSS:[]};function D(e){Object.assign(F.mixin,e)}function I(e){F.globalCSS.includes(e)||F.globalCSS.push(e)}var V={define:e=>{e.prototype.formAssociatedCallback=function(e){this._form=e,this._form&&this._form.addEventListener("formdata",this.handleFormData.bind(this))}},initial:e=>{e.getFieldValue||(e.getFieldValue=function(){var t;const o={};return e._inputs=null==(t=e.shadowRoot)?void 0:t.querySelectorAll("input"),e._inputs.forEach(e=>{o[e.name]=e.value}),o}),e.resetFieldValue||(e.resetFieldValue=function(){var t;e._inputs=null==(t=e.shadowRoot)?void 0:t.querySelectorAll("input"),e._inputs.forEach(e=>{e.value=""})}),e.handleFormData||(e.handleFormData=function({formData:t}){if(t){const o=e.getFieldValue();Object.entries(o).forEach(([e,o])=>{t.append(e,o)})}}),e._internals=e.attachInternals()},connected:e=>{}};function H(e,t){Object.defineProperty(t,"tagName",{value:e,writable:!1}),customElements.get(e)?console.warn(`Failed to execute 'define' on 'CustomElementRegistry': the tag name "${e}" has already been used with this registry`):customElements.define(e,t)}function W(e,t){const{formAssociated:o}=Object.assign({formAssociated:!1},t);return function(t){o&&(o&&(y(t,V),t.formAssociated=!0),function(e,t){const o=e._hooks?e._hooks:m(e,"hooks")||{};if(f(e)||(e._hooks=o),t in o){const n=o[t];Array.isArray(n)&&n.forEach(o=>{try{o.call(e,e)}catch(o){console.warn(`Error occurred while executing hook function ${f(e)?e.constructor.name:e.name}/${t}:`,o)}})}}(t,"define")),H(e,t)}}const U=W;var $={initial:e=>{Object.defineProperty(e,"ref",{get:()=>(e._ref||(e._ref=new Proxy({current:void 0},{set:(t,o,n,r)=>("current"===o&&e.fire("refAttached",{ref:n,target:e},{bubbles:!0,composed:!0}),Reflect.set(t,o,n,r))})),e._ref)}),e._onRefAttached=function(t){const{ref:o,target:n}=t.detail;n!==e&&e.props.ref&&(e.props.ref.current=o)},e.addEventListener("refAttached",e._onRefAttached)},disconnected:e=>{e.removeEventListener("refAttached",e._onRefAttached)}};let q=0;const B=new WeakMap;class J extends HTMLElement{static define(e){H(e,this)}constructor(){super(),this.elementId=void 0,this.isInstalled=void 0,this.inject=void 0,this.injection=void 0,this.renderRoot=void 0,this.rootElement=void 0,this._hooks=void 0,this._ref=null,this.state=void 0,this.updateQueued=!1,this.handleProps(),y(this,$),this.executeHooks("initial"),this.elementId=q++,this.isInstalled=!1,this.rootElement=null}get ref(){}get hooks(){return this._hooks||(this._hooks=m(this,"hooks")||{}),this._hooks}executeHooks(e){if(e in this.hooks){const t=this.hooks[e];Array.isArray(t)&&t.forEach(t=>{try{t.call(this,this)}catch(t){console.warn(`Error occurred while executing hook function ${this.constructor.name}/${e}:`,t)}})}}handleProps(){this.constructor.defaultProps=m(this,"defaultProps",{default:{}})||{},this.constructor.propTypes=m(this,"propTypes",{default:{}})||{},this.constructor.reflectProps=m(this,"reflectProps",{default:{}})||{};const e=m(this,"props",{default:{},merge:"uniqueMerge"});if(this.constructor.props)for(const t in e){const o=e[t];this.constructor.defaultProps[t]=o.default,this.constructor.propTypes[t]=o.type,this.constructor.reflectProps[t]=o.reflect}this.props=Object.assign({},this.constructor.defaultProps,this.props),this.props.ignoreAttrs||this.handleComplexProps()}handleComplexProps(){Object.keys(this.constructor.propTypes).forEach(e=>{this.constructor.isComplexType(e)&&Object.defineProperty(this,e,{get:()=>this.props[e],set:t=>{Object.is(t,this.props[e])||(this.props[e]=t,this.queuedUpdate())},enumerable:!0,configurable:!0})})}static isComplexType(e){if(!this.useDOMProperty)return!1;const t=this.propTypes;return!(!t[e]||/^on|children/.test(e))&&(i(t[e])?t[e]:[t[e]]).some(e=>e===Object||e===Array||i(e)&&e.includes(Object))}static get observedAttributes(){return Object.keys(this.props||{}).length>0?Object.keys(this.props).map(c):Object.keys(this.propTypes||{}).length>0?Object.keys(this.propTypes).filter(e=>!/^on|children/.test(e)&&!this.isComplexType(e)).map(c):[]}attributeChangedCallback(e,t,o){const r=n(e);if(this.constructor.props&&this.constructor.props[r]){const e=this.constructor.props[r];if(e.changed){const n=this.getTypeValueOfProp(r,o),s=this.getTypeValueOfProp(r,t);e.changed.call(this,n,s)}}this.props.ignoreAttrs||this.update()}setState(e,t=!1){if("object"!=typeof e)throw new Error("takes an object of state variables to update");Object.keys(e).forEach(t=>this.state[t]=e[t]),t||this.queuedUpdate()}injectObject(){let e=this.parentNode;for(;e&&!this.store&&!F.mixin.store;)this.store=e.store,e=e.parentNode||e.host;if(this.inject){let t;for(this.injection={},e=this.parentNode;e&&!t;)t=e.provide,e=e.parentNode||e.host;t&&this.inject.forEach(e=>{this.injection[e]=t[e]})}for(const e in F.mixin)this.hasOwnProperty(e)||Object.defineProperty(this,e,{get:()=>F.mixin[e]})}createRenderRoot(){if(this.constructor.isLightDOM)return this;if(this.shadowRoot){let e;for(;e=this.shadowRoot.firstChild;)this.shadowRoot.removeChild(e);return this.shadowRoot}return this.attachShadow({mode:"open"})}applyAdoptedStyleSheets(){if(this.constructor.isLightDOM||B.has(this.constructor))this.renderRoot.adoptedStyleSheets=B.get(this.constructor);else{const e=this.constructor.css;if(e){let t=[];t="string"==typeof e?[a(e)]:i(e)?e.map(e=>"string"==typeof e?a(e):e.default&&"string"==typeof e.default?a(e.default):e):e.default&&"string"==typeof e.default?[a(e.default)]:[e],t=[...F.globalCSS,...t],this.renderRoot.adoptedStyleSheets=t,B.set(this.constructor,t)}else F.globalCSS.length&&(this.renderRoot.adoptedStyleSheets=F.globalCSS)}}appendStyleVNode(e){if(this.props.css&&e){const t={nodeName:"style",attributes:{},children:[this.props.css]};return i(e)?[...e,t]:[e,t]}return e}connectedCallback(){this.injectObject(),this.attrsToProps(),this.install(),this.fire("install",this),this.renderRoot=this.createRenderRoot(),this.applyAdoptedStyleSheets(),e(this),this.beforeRender(),this.fire("beforeRender",this);const o=this.appendStyleVNode(this.render(this.props,this.store));var n;this.rendered(o),t(),this.rootElement=x(null,o,null,this,!1),i(this.rootElement)?this.rootElement.forEach(e=>{var t;null==(t=this.renderRoot)||t.appendChild(e)}):this.rootElement&&(null==(n=this.renderRoot)||n.appendChild(this.rootElement)),this.installed(),this.fire("installed",this),this.isInstalled=!0,Promise.resolve().then(()=>{this.ready(),this.fire("ready",this)}),this.executeHooks("connected")}disconnectedCallback(){this.uninstall(),this.fire("uninstall",this),this.isInstalled=!1,this.executeHooks("disconnected")}update(o){this.beforeUpdate(),this.fire("beforeUpdate",this),this.attrsToProps(),e(this),this.beforeRender(),this.fire("beforeRender",this);const n=this.appendStyleVNode(this.render(this.props,this.store));this.rendered(n),t(null),this.rootElement=x(this.rootElement,n,this.renderRoot,this,!!o),this.updated(),this.fire("updated",this)}queuedUpdate(){this.updateQueued||(this.updateQueued=!0,Promise.resolve().then(()=>{this.update(),this.updateQueued=!1}))}updateProps(e){Object.keys(e).forEach(t=>{this.props[t]=e[t],this.prevProps&&(this.prevProps[t]=e[t])}),this.update()}updateSelf(){this.update(!0)}removeProp(e){this.removeAttribute(e),this.isInstalled&&this.update()}setProp(e,t){this.setAttribute(e,t&&"object"==typeof t?JSON.stringify(t):t),this.isInstalled&&this.update()}attrsToProps(){if(this.props.ignoreAttrs)return;const e=this,t=this.constructor;e.props.css=e.getAttribute("css");const o=t.propTypes;o&&Object.keys(o).forEach(o=>{if(t.isComplexType(o))return;const n=e.getAttribute(c(o));e.props[o]=null!==n?this.getTypeValueOfProp(o,n):t.defaultProps&&t.defaultProps.hasOwnProperty(o)?t.defaultProps[o]:null})}getTypeValueOfProp(e,t){const o=this.constructor.propTypes,n=i(o[e])?o[e]:[o[e]];for(let o=0;o<n.length;o++)switch(n[o]){case String:return t;case Number:return Number(t);case Boolean:return Boolean("false"!==t&&"0"!==t);case Array:case Object:try{return JSON.parse(t)}catch(o){console.warn(`The ${e} object prop does not comply with the JSON specification, the incorrect string is [${t}].`)}}}fire(e,t,o){const{bubbles:n,composed:r}=Object.assign({bubbles:!1,composed:!1},o),s=this.props[`on${function(e){return e.replace(/\-(\w)/g,(e,t)=>t.toUpperCase()).replace(/^\S/,e=>e.toUpperCase())}(e)}`];s?s(new CustomEvent(e,{detail:t,bubbles:n,composed:r})):this.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:n,composed:r}))}install(){}installed(){}ready(){}uninstall(){}beforeUpdate(){}updated(){}beforeRender(){this.props.children||(this.props.children=g.call(this,this.childNodes))}rendered(e){}receiveProps(){}}J.h=v,J.f=v.f,J.is="Component",J.defaultProps=void 0,J.reflectProps=void 0,J.propTypes=void 0,J.css=void 0,J.isLightDOM=void 0,J.noSlot=void 0,J.hooks=void 0,J.props={},J.useDOMProperty=!0,J.formAssociated=!0;class Q extends J{constructor(...e){super(...e),this._form=null,this._inputs=[],this._internals=null}formAssociatedCallback(e){}handleFormData(e){}getFieldValue(){}handleField(e){}formDisabledCallback(){}formResetCallback(){}formStateRestoreCallback(e,t){}}function z(e,t,o){return t="string"==typeof t?document.querySelector(t):t,o&&t&&(t.store=o),x(null,e,t,null,!1)}Q.formAssociated=!1;const G={}.hasOwnProperty;function X(...e){const t=[];for(let o=0;o<e.length;o++){const n=e[o];if(!n)continue;const r=typeof n;if("string"===r||"number"===r)t.push(n);else if(Array.isArray(n)&&n.length){const e=X(...n);e&&t.push(e)}else if("object"===r)for(const e in n)G.call(n,e)&&n[e]&&t.push(e)}return t.join(" ")}function Z(e,...t){if(e.class?(t.unshift(e.class),delete e.class):e.className&&(t.unshift(e.className),delete e.className),t.length>0)return{class:X(...t)}}let K={};function Y(e,...t){let o="";if(e.forEach((e,n)=>{if(void 0!==t[n]&&"string"!=typeof t[n]&&"number"!=typeof t[n])throw new Error(`Unsupported value in CSS: ${t[n]}`);o+=e+(t[n]||"")}),K[o])return K[o];{const e=new CSSStyleSheet;return e.replaceSync(o),K[o]=e,e}}const ee="7.7.13";export{J as Component,Q as FormAssociatedComponent,J as WeElement,d as bind,X as classNames,b as cloneElement,v as createElement,p as createRef,Y as css,H as define,H as defineElement,Z as extractClass,I as globalCSS,v as h,D as mixin,C as registerDirective,z as render,W as tag,ee as version,U as webcomponent};
//# sourceMappingURL=omi.modern.mjs.map
